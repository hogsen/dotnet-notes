# 异步

## 为什么要使用异步

在执行耗时任务时会阻塞主线程，界面就会出现卡顿现响，而用户可能会认为程序崩溃，从而手动结束进程，可能会造成数据丢失。
比如你向服务器发送请求，如果使用同步，那么你必须要等待服务器响应，才能做其它任务，比如拖动窗口，点击按钮，你会发现这些操作“无效”，当然你可以开启另外的线程执行这些操作（这部分后面再讲）。其实主线程没有必要等待，因为你发送这个动作已经完成，服务器能不能响应怎么响应跟你没关系，不需要在这里等，你大可以做其它任务。

## 多线程异步

多线程异步：一个进程中同时处理多个任务，比如 nodejs 中，你在执行 IO 操作或定时器任务时，使用异步执行，它会开启特定的线程去辅助主线程执行。
比如 nodejs,真正执行 javascript 代码的只有一个线程，Event Loop 线程，它负责执行 JavaScript 代码、处理事件回调、维护事件循环。
而遇到异步任务（如网络请求、文件操作）他会交给 libuv 线程池来处理，当主线程发起一个异步请求时，libuv 会将这个请求分发给线程池中的一个线程来处理。一旦异步操作完成，线程池会将结果通知给主线程，主线程随后会将对应的回调函数放入事件循环中等待执行。

# 多线程

# 通道

# 序列化与返序列化

序列化就是将对象写入字节流，返序列化就是将字节流还原成对象。
序列化是为了让数据传输更高效
类的字段和属性可以序列化，方法和事件不能序列化
